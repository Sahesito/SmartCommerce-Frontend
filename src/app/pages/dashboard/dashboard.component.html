<div class="dashboard">

    <!-- Header -->
    <div class="dashboard-header">
        <div>
            <h1>Bienvenido, {{ currentUser?.firstName }}</h1>
            <p>{{ getRoleLabel() }} — Panel de control</p>
        </div>
    </div>

    <!-- Stats Cards -->
    @if (loading) {
    <div class="stats-grid">
        @for (i of [1,2,3,4]; track i) {
        <p-skeleton height="120px" borderRadius="12px" />
        }
    </div>
    } @else {
    <div class="stats-grid">

        <div class="stat-card">
            <div class="stat-icon products">
                <i class="pi pi-box"></i>
            </div>
            <div class="stat-info">
                <span class="stat-value">{{ stats.totalProducts }}</span>
                <span class="stat-label">Productos</span>
            </div>
        </div>

        @if (isAdmin()) {
        <div class="stat-card">
            <div class="stat-icon users">
                <i class="pi pi-users"></i>
            </div>
            <div class="stat-info">
                <span class="stat-value">{{ stats.totalUsers }}</span>
                <span class="stat-label">Usuarios</span>
            </div>
        </div>
        }

        <div class="stat-card" [class.warning]="stats.lowStockItems > 0">
            <div class="stat-icon inventory">
                <i class="pi pi-warehouse"></i>
            </div>
            <div class="stat-info">
                <span class="stat-value">{{ stats.lowStockItems }}</span>
                <span class="stat-label">Stock bajo</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon orders">
                <i class="pi pi-shopping-cart"></i>
            </div>
            <div class="stat-info">
                <span class="stat-value">{{ stats.pendingOrders }}</span>
                <span class="stat-label">Pedidos pendientes</span>
            </div>
        </div>

    </div>
    }

    <!-- Accesos rápidos -->
    <div class="quick-access">
        <h2>Accesos rápidos</h2>
        <div class="quick-grid">

            @if (isAdminOrSeller()) {
            <div class="quick-card" routerLink="/products">
                <i class="pi pi-box"></i>
                <span>Gestionar Productos</span>
                <i class="pi pi-arrow-right arrow"></i>
            </div>
            }

            @if (isAdminOrSeller()) {
            <div class="quick-card" routerLink="/inventory">
                <i class="pi pi-warehouse"></i>
                <span>Ver Inventario</span>
                <i class="pi pi-arrow-right arrow"></i>
            </div>
            }

            <div class="quick-card" routerLink="/orders">
                <i class="pi pi-shopping-cart"></i>
                <span>Ver Pedidos</span>
                <i class="pi pi-arrow-right arrow"></i>
            </div>

            @if (isAdmin()) {
            <div class="quick-card" routerLink="/users">
                <i class="pi pi-users"></i>
                <span>Gestionar Usuarios</span>
                <i class="pi pi-arrow-right arrow"></i>
            </div>
            }

        </div>
    </div>

</div>